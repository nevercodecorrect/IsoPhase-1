//============================================================================
// Name        : .CVE-2017-12600.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <opencv2/opencv.hpp>
#include <opencv2/imgproc.hpp>
#include <opencv2/highgui.hpp>
#include <opencv2/imgcodecs.hpp>
using namespace std;
using namespace cv;
void opencv_load_img(Mat * image){
	cout << " === opencv_load_img() === "<< endl;
	printf(" === start of imread(...) ===\n");
	*image = imread("11-opencv-dos-cpu-exhaust", IMREAD_GRAYSCALE);
	printf(" === end of imread(...) === \n");
	cout << " === end of opencv_load_img() ===" << endl;
}

int main(int argc, const char ** argv) {
	//int *c = (int *) malloc(sizeof(char));
	//cout << c[5] << endl;
	//cout << " === Hello World!!! === \n\n";
	Mat image;
	opencv_load_img(&image);
	
	//print_pixels(&image);
	
	//char * path = "mat_dump.txt";
	//Mat image_read = read_from_dump(path);
	//cout << "[DEBUG]: image_read values: " << image_read << endl;		
	
	return 0;
}

